 -- PostgreSQL Commands for Data Insertion and Manipulation-- 1. Insert Realistic Sample Data (Manual ID assignment for foreign keys)INSERT INTO Specialties (name) VALUES ('General Practice'); -- ID 1INSERT INTO Specialties (name) VALUES ('Pediatrics');     -- ID 2INSERT INTO Specialties (name) VALUES ('Cardiology');     -- ID 3INSERT INTO Specialties (name) VALUES ('Dermatology');    -- ID 4INSERT INTO Specialties (name) VALUES ('Orthopedics');    -- ID 5INSERT INTO Specialties (name) VALUES ('Neurology');      -- ID 6INSERT INTO Patients (first_name, last_name, phone_number, email, birthdate) VALUES('Alice', 'Smith', '555-1001', 'alice.s@example.com', '1990-05-10'),    -- ID 1('Bob', 'Johnson', '555-1002', 'bob.j@example.com', '1982-11-23'),     -- ID 2('Charlie', 'Brown', '555-1003', 'charlie.b@example.com', '2001-01-15'), -- ID 3('Diana', 'Prince', '555-1004', 'diana.p@example.com', '1975-08-01'),   -- ID 4('Eve', 'Adams', '555-1005', 'eve.a@example.com', '1995-03-20'),      -- ID 5('Frank', 'White', '555-1006', 'frank.w@example.com', '1968-07-12');   -- ID 6INSERT INTO Doctors (first_name, last_name, specialty_id, license_number, phone_number, email) VALUES('Dr. Emily', 'Davis', 1, 'MD1001', '555-2001', 'emily.d@example.com'),       -- ID 1, Specialty: General Practice (1)('Dr. Michael', 'Chen', 2, 'MD1002', '555-2002', 'michael.c@example.com'),     -- ID 2, Specialty: Pediatrics (2)('Dr. Sarah', 'Miller', 3, 'MD1003', '555-2003', 'sarah.m@example.com'),      -- ID 3, Specialty: Cardiology (3)('Dr. David', 'Garcia', 4, 'MD1004', '555-2004', 'david.g@example.com'),      -- ID 4, Specialty: Dermatology (4)('Dr. Laura', 'Rodriguez', 5, 'MD1005', '555-2005', 'laura.r@example.com'),   -- ID 5, Specialty: Orthopedics (5)('Dr. Peter', 'Jones', 1, 'MD1006', '555-2006', 'peter.j@example.com');       -- ID 6, Specialty: General Practice (1)INSERT INTO Medications (name, price) VALUES('Amoxicillin 500mg', 12.50),    -- ID 1('Ibuprofen 200mg', 5.75),       -- ID 2('Lisinopril 10mg', 8.99),       -- ID 3('Hydrocortisone Cream', 7.20),  -- ID 4('Vitamin D3 1000IU', 9.50),     -- ID 5('Omeprazole 20mg', 15.00);      -- ID 6-- Note: Appointment IDs will be assigned automatically by SERIAL.-- You'll need to know these IDs for related insertions (Prescriptions, Invoices).-- For simplicity, we assume the order of insertion corresponds to IDs 1, 2, 3, etc.INSERT INTO Appointments (patient_id, doctor_id, appointment_date, appointment_time, status) VALUES(1, 1, CURRENT_DATE, '09:00:00', 'Scheduled'), -- Appt ID 1: Alice (1) with Dr. Emily (1)(2, 2, CURRENT_DATE, '10:30:00', 'Scheduled'), -- Appt ID 2: Bob (2) with Dr. Michael (2)(3, 3, (CURRENT_DATE + INTERVAL '1 day'), '14:00:00', 'Scheduled'), -- Appt ID 3: Charlie (3) with Dr. Sarah (3)(4, 4, (CURRENT_DATE - INTERVAL '2 days'), '11:00:00', 'Completed'), -- Appt ID 4: Diana (4) with Dr. David (4)(5, 5, (CURRENT_DATE + INTERVAL '3 days'), '09:30:00', 'Scheduled'), -- Appt ID 5: Eve (5) with Dr. Laura (5)(2, 1, (CURRENT_DATE - INTERVAL '1 day'), '16:00:00', 'Cancelled'); -- Appt ID 6: Bob (2) with Dr. Emily (1) - to be deletedINSERT INTO Prescriptions (appointment_id, medication_id, quantity, instructions) VALUES(1, 1, 1, 'Take one tablet twice daily for 7 days.'), -- Appt 1, Amoxicillin (1)(2, 2, 2, 'Take two tablets as needed for pain.'),     -- Appt 2, Ibuprofen (2)(4, 4, 1, 'Apply thin layer to affected area twice daily.'), -- Appt 4, Hydrocortisone (4)(4, 5, 1, 'Take one capsule daily.'),                   -- Appt 4, Vitamin D3 (5)(1, 6, 1, 'Take one capsule before breakfast.');        -- Appt 1, Omeprazole (6)INSERT INTO Invoices (appointment_id, amount, status, issue_date) VALUES(1, 75.00, 'Pending', CURRENT_DATE),   -- Appt 1(2, 50.00, 'Paid', CURRENT_DATE),      -- Appt 2(3, 100.00, 'Pending', CURRENT_DATE),  -- Appt 3(4, 60.00, 'Paid', (CURRENT_DATE - INTERVAL '2 days')), -- Appt 4(5, 80.00, 'Pending', CURRENT_DATE);   -- Appt 5-- 2. Perform Specific Operations-- Add a new patientINSERT INTO Patients (first_name, last_name, phone_number, email, birthdate)VALUES ('Grace', 'Taylor', '555-1007', 'grace.t@example.com', '1998-09-05'); -- New patient will likely be ID 7-- Add a new appointment-- Assuming Grace Taylor is patient ID 7 and Dr. Peter Jones is doctor ID 6INSERT INTO Appointments (patient_id, doctor_id, appointment_date, appointment_time, status)VALUES (7, 6, (CURRENT_DATE + INTERVAL '5 days'), '10:00:00', 'Scheduled');-- Add a new invoice-- This operation still requires fetching the newly created appointment_id dynamicallyDO $$DECLARE    new_appt_id INT;BEGIN    SELECT appointment_id INTO new_appt_id    FROM Appointments    WHERE patient_id = (SELECT patient_id FROM Patients WHERE first_name = 'Grace' AND last_name = 'Taylor')      AND doctor_id = (SELECT doctor_id FROM Doctors WHERE first_name = 'Dr. Peter' AND last_name = 'Jones')      AND appointment_date = (CURRENT_DATE + INTERVAL '5 days')      AND appointment_time = '10:00:00';    INSERT INTO Invoices (appointment_id, amount, status, issue_date)    VALUES (new_appt_id, 90.00, 'Pending', CURRENT_DATE);END $$;-- Update a patient's phone numberUPDATE PatientsSET phone_number = '555-1001-NEW'WHERE first_name = 'Alice' AND last_name = 'Smith';-- Modify a doctor's specialtyUPDATE DoctorsSET specialty_id = (SELECT specialty_id FROM Specialties WHERE name = 'Dermatology')WHERE first_name = 'Dr. Peter' AND last_name = 'Jones';-- Delete a cancelled appointmentDELETE FROM AppointmentsWHERE appointments.status = 'Cancelled';-- Use COMMIT and ROLLBACK to demonstrate transaction controlBEGIN;    UPDATE Appointments    SET status = 'Cancelled'    WHERE patient_id = (SELECT patient_id FROM Patients WHERE first_name = 'Eve' AND last_name = 'Adams')      AND appointment_date = (CURRENT_DATE + INTERVAL '3 days');    UPDATE Invoices    SET status = 'Refunded'    WHERE appointment_id = (        SELECT appointment_id FROM Appointments        WHERE patient_id = (SELECT patient_id FROM Patients WHERE first_name = 'Eve' AND last_name = 'Adams')          AND appointment_date = (CURRENT_DATE + INTERVAL '3 days')    );COMMIT;BEGIN;    INSERT INTO Appointments (patient_id, doctor_id, appointment_date, appointment_time, status)    VALUES (        (SELECT patient_id FROM Patients WHERE first_name = 'Frank' AND last_name = 'White'),        (SELECT doctor_id FROM Doctors WHERE first_name = 'Dr. Emily' AND last_name = 'Davis'),        (CURRENT_DATE + INTERVAL '10 days'),        '13:00:00',        'Scheduled'    );ROLLBACK;